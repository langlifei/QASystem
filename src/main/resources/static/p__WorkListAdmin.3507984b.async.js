(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"WU+M":function(e,t,a){e.exports={standardList:"antd-pro-pages-work-list-admin-style-standardList",headerInfo:"antd-pro-pages-work-list-admin-style-headerInfo",listContent:"antd-pro-pages-work-list-admin-style-listContent",listContentItem:"antd-pro-pages-work-list-admin-style-listContentItem",extraContentSearch:"antd-pro-pages-work-list-admin-style-extraContentSearch",listCard:"antd-pro-pages-work-list-admin-style-listCard",standardListForm:"antd-pro-pages-work-list-admin-style-standardListForm",formResult:"antd-pro-pages-work-list-admin-style-formResult"}},ngo9:function(e,t,a){"use strict";a.r(t),a.d(t,"WorkListAdmin",(function(){return J}));a("Mwp2");var n=a("VXEj"),r=(a("Telt"),a("Tckk")),l=(a("IzEo"),a("bx4M")),i=(a("14J3"),a("BMrR")),c=(a("jCWc"),a("kPKH")),s=a("k1fw"),o=(a("qVdP"),a("jsC+")),m=(a("lUTK"),a("BvKs")),d=(a("2qtc"),a("kLXV")),u=a("tJVT"),p=(a("MXD1"),a("CFYs")),E=(a("5NDa"),a("5rEg")),f=(a("7Kak"),a("9yH6")),b=a("q1tI"),k=a.n(b),v=a("8Skl"),w=a("i8i4"),y=a("Hx5s"),g=a("9kvl"),C=a("wd/R"),h=a.n(C),O=a("0Owb"),x=(a("OaEy"),a("2fM7")),j=(a("iQDF"),a("+eQT")),I=(a("J+/v"),a("MoRW")),L=(a("+L6B"),a("2/Rp")),S=(a("y8nQ"),a("Vl3Y")),A=a("WU+M"),M=a.n(A),D=E["a"].TextArea,N={labelCol:{span:7},wrapperCol:{span:13}},T=function(e){var t=S["a"].useForm(),a=Object(u["a"])(t,1),n=a[0],r=e.done,l=e.visible,i=e.current,c=e.onDone,o=e.onCancel,m=e.onSubmit;Object(b["useEffect"])((function(){n&&!l&&n.resetFields()}),[e.visible]),Object(b["useEffect"])((function(){i&&n.setFieldsValue(Object(s["a"])({},i,{createdAt:i.createdAt?h()(i.createdAt):null}))}),[e.current]);var p=function(){n&&n.submit()},f=function(e){m&&m(e)},v=r?{footer:null,onCancel:c}:{okText:"\u4fdd\u5b58",onOk:p,onCancel:o},w=function(){return r?k.a.createElement(I["a"],{status:"success",title:"\u64cd\u4f5c\u6210\u529f",subTitle:"\u4e00\u7cfb\u5217\u7684\u4fe1\u606f\u63cf\u8ff0\uff0c\u5f88\u77ed\u540c\u6837\u4e5f\u53ef\u4ee5\u5e26\u6807\u70b9\u3002",extra:k.a.createElement(L["a"],{type:"primary",onClick:c},"\u77e5\u9053\u4e86"),className:M.a.formResult}):k.a.createElement(S["a"],Object(O["a"])({},N,{form:n,onFinish:f}),k.a.createElement(S["a"].Item,{name:"title",label:"\u4efb\u52a1\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4efb\u52a1\u540d\u79f0"}]},k.a.createElement(E["a"],{placeholder:"\u8bf7\u8f93\u5165"})),k.a.createElement(S["a"].Item,{name:"createdAt",label:"\u5f00\u59cb\u65f6\u95f4",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5f00\u59cb\u65f6\u95f4"}]},k.a.createElement(j["a"],{showTime:!0,placeholder:"\u8bf7\u9009\u62e9",format:"YYYY-MM-DD HH:mm:ss",style:{width:"100%"}})),k.a.createElement(S["a"].Item,{name:"owner",label:"\u4efb\u52a1\u8d1f\u8d23\u4eba",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4efb\u52a1\u8d1f\u8d23\u4eba"}]},k.a.createElement(x["a"],{placeholder:"\u8bf7\u9009\u62e9"},k.a.createElement(x["a"].Option,{value:"\u4ed8\u6653\u6653"},"\u4ed8\u6653\u6653"),k.a.createElement(x["a"].Option,{value:"\u5468\u6bdb\u6bdb"},"\u5468\u6bdb\u6bdb"))),k.a.createElement(S["a"].Item,{name:"subDescription",label:"\u4ea7\u54c1\u63cf\u8ff0",rules:[{message:"\u8bf7\u8f93\u5165\u81f3\u5c11\u4e94\u4e2a\u5b57\u7b26\u7684\u4ea7\u54c1\u63cf\u8ff0\uff01",min:5}]},k.a.createElement(D,{rows:4,placeholder:"\u8bf7\u8f93\u5165\u81f3\u5c11\u4e94\u4e2a\u5b57\u7b26"})))};return k.a.createElement(d["a"],Object(O["a"])({title:r?null:"\u4efb\u52a1".concat(i?"\u7f16\u8f91":"\u6dfb\u52a0"),className:M.a.standardListForm,width:640,bodyStyle:r?{padding:"72px 0"}:{padding:"28px 0 0"},destroyOnClose:!0,visible:l},v),w())},Y=T,F=f["a"].Button,R=f["a"].Group,q=E["a"].Search,H=function(e){var t=e.title,a=e.value,n=e.bordered;return k.a.createElement("div",{className:M.a.headerInfo},k.a.createElement("span",null,t),k.a.createElement("p",null,a),n&&k.a.createElement("em",null))},V=function(e){var t=e.data,a=t.owner,n=t.createdAt,r=t.percent,l=t.status;return k.a.createElement("div",{className:M.a.listContent},k.a.createElement("div",{className:M.a.listContentItem},k.a.createElement("span",null,"Owner"),k.a.createElement("p",null,a)),k.a.createElement("div",{className:M.a.listContentItem},k.a.createElement("span",null,"\u5f00\u59cb\u65f6\u95f4"),k.a.createElement("p",null,h()(n).format("YYYY-MM-DD HH:mm"))),k.a.createElement("div",{className:M.a.listContentItem},k.a.createElement(p["a"],{percent:r,status:l,strokeWidth:6,style:{width:180}})))},J=function(e){var t=Object(b["useRef"])(null),a=e.loading,p=e.dispatch,E=e.workListAdmin.list,f=Object(b["useState"])(!1),g=Object(u["a"])(f,2),C=g[0],h=g[1],O=Object(b["useState"])(!1),x=Object(u["a"])(O,2),j=x[0],I=x[1],L=Object(b["useState"])(void 0),S=Object(u["a"])(L,2),A=S[0],D=S[1];Object(b["useEffect"])((function(){p({type:"workListAdmin/fetch",payload:{count:5}})}),[1]);var N={showSizeChanger:!0,showQuickJumper:!0,pageSize:5,total:50},T=function(e){I(!0),D(e)},J=function(e){p({type:"workListAdmin/submit",payload:{id:e}})},W=function(e,t){"edit"===e?T(t):"delete"===e&&d["a"].confirm({title:"\u5220\u9664\u4efb\u52a1",content:"\u786e\u5b9a\u5220\u9664\u8be5\u4efb\u52a1\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){return J(t.id)}})},z=k.a.createElement("div",{className:M.a.extraContent},k.a.createElement(R,{defaultValue:"all"},k.a.createElement(F,{value:"all"},"\u5168\u90e8"),k.a.createElement(F,{value:"progress"},"\u8fdb\u884c\u4e2d"),k.a.createElement(F,{value:"waiting"},"\u7b49\u5f85\u4e2d")),k.a.createElement(q,{className:M.a.extraContentSearch,placeholder:"\u8bf7\u8f93\u5165",onSearch:function(){return{}}})),K=function(e){var t=e.item;return k.a.createElement(o["a"],{overlay:k.a.createElement(m["a"],{onClick:function(e){var a=e.key;return W(a,t)}},k.a.createElement(m["a"].Item,{key:"edit"},"\u7f16\u8f91"),k.a.createElement(m["a"].Item,{key:"delete"},"\u5220\u9664"))},k.a.createElement("a",null,"\u66f4\u591a ",k.a.createElement(v["a"],null)))},B=function(){if(t.current){var e=Object(w["findDOMNode"])(t.current);setTimeout((function(){return e.blur()}),0)}},Q=function(){B(),h(!1),I(!1)},U=function(){B(),I(!1)},X=function(e){var t=A?A.id:"";B(),h(!0),p({type:"workListAdmin/submit",payload:Object(s["a"])({id:t},e)})};return k.a.createElement("div",null,k.a.createElement(y["c"],null,k.a.createElement("div",{className:M.a.standardList},k.a.createElement(l["a"],{bordered:!1},k.a.createElement(i["a"],null,k.a.createElement(c["a"],{sm:8,xs:24},k.a.createElement(H,{title:"\u6211\u7684\u5f85\u529e",value:"8\u4e2a\u4efb\u52a1",bordered:!0})),k.a.createElement(c["a"],{sm:8,xs:24},k.a.createElement(H,{title:"\u672c\u5468\u4efb\u52a1\u5e73\u5747\u5904\u7406\u65f6\u95f4",value:"32\u5206\u949f",bordered:!0})),k.a.createElement(c["a"],{sm:8,xs:24},k.a.createElement(H,{title:"\u672c\u5468\u5b8c\u6210\u4efb\u52a1\u6570",value:"24\u4e2a\u4efb\u52a1"})))),k.a.createElement(l["a"],{className:M.a.listCard,bordered:!1,title:"\u5de5\u5355\u5217\u8868",style:{marginTop:24},bodyStyle:{padding:"0 32px 40px 32px"},extra:z},k.a.createElement(n["a"],{size:"large",rowKey:"id",loading:a,pagination:N,dataSource:E,renderItem:function(e){return k.a.createElement(n["a"].Item,{actions:[k.a.createElement("a",{key:"edit",onClick:function(t){t.preventDefault(),T(e)}},"\u7f16\u8f91"),k.a.createElement(K,{key:"more",item:e})]},k.a.createElement(n["a"].Item.Meta,{avatar:k.a.createElement(r["a"],{src:e.logo,shape:"square",size:"large"}),title:k.a.createElement("a",{href:e.href},e.title),description:e.subDescription}),k.a.createElement(V,{data:e}))}})))),k.a.createElement(Y,{done:C,current:A,visible:j,onDone:Q,onCancel:U,onSubmit:X}))};t["default"]=Object(g["b"])((function(e){var t=e.workListAdmin,a=e.loading;return{workListAdmin:t,loading:a.models.workListAdmin}}))(J)}}]);